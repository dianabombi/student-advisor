# Jobs Chat Service - Automatic City Detection
# Student Advisor Platform

## ‚úÖ –©–û –ó–†–û–ë–õ–ï–ù–û:

### 1. **–ü–æ–∫—Ä–∞—â–µ–Ω–∏–π Jobs Chat Service**
–§–∞–π–ª: `jobs_chat_service.py` (–æ–Ω–æ–≤–ª–µ–Ω–æ)

**–ù–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏—Ç—è–≥—É—î –º—ñ—Å—Ç–æ** –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ **40+ —Å–ª–æ–≤–∞—Ü—å–∫–∏—Ö –º—ñ—Å—Ç** –∑ –Ω–∞–≤—á–∞–ª—å–Ω–∏–º–∏ –∑–∞–∫–ª–∞–¥–∞–º–∏
- ‚úÖ **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥—ñ–∞–∫—Ä–∏—Ç–∏–∫–∏** (Bratislava, Ko≈°ice, ≈Ωilina, —Ç–æ—â–æ)
- ‚úÖ **–í–°–Ü 10 –ú–û–í –ü–õ–ê–¢–§–û–†–ú–ò**: sk, cs, pl, en, de, fr, es, uk, it, ru

**–ü—Ä–∏–∫–ª–∞–¥–∏ —Ä–æ–±–æ—Ç–∏:**
```
"–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É –≤ –ë—Ä–∞—Ç–∏—Å–ª–∞–≤—ñ" ‚Üí –≤–∏—Ç—è–≥—É—î "Bratislava"
"pr√°ca v Ko≈°iciach" ‚Üí –≤–∏—Ç—è–≥—É—î "Ko≈°ice"  
"work in Zilina" ‚Üí –≤–∏—Ç—è–≥—É—î "≈Ωilina"
"–≤ –ë–∞–Ω—Å—å–∫—ñ–π –ë–∏—Å—Ç—Ä–∏—Ü—ñ" ‚Üí –≤–∏—Ç—è–≥—É—î "Bansk√° Bystrica"
```

### 2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –º—ñ—Å—Ç**
–§–∞–π–ª: `sync_cities_auto.py`

**–ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –Ω–æ–≤–∏—Ö –Ω–∞–≤—á–∞–ª—å–Ω–∏—Ö –∑–∞–∫–ª–∞–¥—ñ–≤:**
```bash
cd backend/services
python sync_cities_auto.py
```
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä—É—î –∫–æ–¥ –¥–ª—è –Ω–æ–≤–∏—Ö –º—ñ—Å—Ç!

### 3. **SQL –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è URL**
–§–∞–π–ª: `fix_job_agency_urls.sql`

## üìã –©–û –ü–û–¢–†–Ü–ë–ù–û –ó–†–û–ë–ò–¢–ò:

### –ö—Ä–æ–∫ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–∏ SQL (–ö–†–ò–¢–ò–ß–ù–û!)

**–í–∞—Ä—ñ–∞–Ω—Ç A - —á–µ—Ä–µ–∑ pgAdmin:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ pgAdmin
2. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ –≤–∞—à–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö **Student Advisor**
3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Query Tool
4. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤–µ—Å—å SQL –∑ `fix_job_agency_urls.sql`
5. Execute (F5)

**–í–∞—Ä—ñ–∞–Ω—Ç B - —á–µ—Ä–µ–∑ DBeaver:**
1. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ –≤–∞—à–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö **Student Advisor**
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π SQL Editor
3. –í—Å—Ç–∞–≤—Ç–µ SQL –∑ `fix_job_agency_urls.sql`
4. Execute (Ctrl+Enter)

**–í–∞—Ä—ñ–∞–Ω—Ç C - —á–µ—Ä–µ–∑ Docker:**
```bash
# –ó–Ω–∞–π–¥—ñ—Ç—å –Ω–∞–∑–≤—É –≤–∞—à–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ë–î
docker ps | grep postgres

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å SQL
docker exec -it <container_name> psql -U <username> -d <database_name> -f /path/to/fix_job_agency_urls.sql
```

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ Backend

```bash
# –Ø–∫—â–æ —á–µ—Ä–µ–∑ Docker
docker-compose restart backend

# –ê–±–æ —è–∫—â–æ –ª–æ–∫–∞–ª—å–Ω–æ
# Ctrl+C —ñ –∑–Ω–æ–≤—É –∑–∞–ø—É—Å—Ç–∏—Ç–∏
```

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢:

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –º—ñ—Å—Ç–∞:**
```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É –≤ –ë—Ä–∞—Ç–∏—Å–ª–∞–≤—ñ"
AI –≤–∏—Ç—è–≥—É—î: city = "Bratislava"
AI –∑–Ω–∞—Ö–æ–¥–∏—Ç—å: 7 –∞–≥–µ–Ω—Ü—ñ–π –¥–ª—è –ë—Ä–∞—Ç–∏—Å–ª–∞–≤–∏
AI –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î: –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ URL
```

‚úÖ **–¢—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ URL:**
- ‚ùå –ë—ñ–ª—å—à–µ –ù–ï –±—É–¥–µ: `https://www.profesia.sk/kosice/brigady`
- ‚úÖ –¢—ñ–ª—å–∫–∏: `https://www.profesia.sk`

‚úÖ **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤—Å—ñ—Ö —Å–ª–æ–≤–∞—Ü—å–∫–∏—Ö –º—ñ—Å—Ç:**
- Bratislava, Ko≈°ice, Pre≈°ov, ≈Ωilina, Bansk√° Bystrica
- Nitra, Trnava, Martin, Trenƒç√≠n, Poprad
- + —â–µ 30+ –º—ñ—Å—Ç

‚úÖ **–í–°–Ü 10 –ú–û–í –ü–õ–ê–¢–§–û–†–ú–ò:**
- –°–ª–æ–≤–∞—Ü—å–∫–∞ (sk), –ß–µ—Å—å–∫–∞ (cs), –ü–æ–ª—å—Å—å–∫–∞ (pl)
- –ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ (en), –ù—ñ–º–µ—Ü—å–∫–∞ (de), –§—Ä–∞–Ω—Ü—É–∑—å–∫–∞ (fr)
- –Ü—Å–ø–∞–Ω—Å—å–∫–∞ (es), –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ (uk), –Ü—Ç–∞–ª—ñ–π—Å—å–∫–∞ (it), –†–æ—Å—ñ–π—Å—å–∫–∞ (ru)

## üîÑ –ü–†–ò –î–û–î–ê–í–ê–ù–ù–Ü –ù–û–í–ò–• –ú–Ü–°–¢:

1. –î–æ–¥–∞–π—Ç–µ –Ω–∞–≤—á–∞–ª—å–Ω–∏–π –∑–∞–∫–ª–∞–¥ –≤ –ë–î
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å: `python sync_cities_auto.py`
3. –°–∫–æ–ø—ñ—é–π—Ç–µ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –∫–æ–¥
4. –û–Ω–æ–≤—ñ—Ç—å `jobs_chat_service.py`

## üìù BACKUP:

–°—Ç–∞—Ä–∏–π —Ñ–∞–π–ª –∑–±–µ—Ä–µ–∂–µ–Ω–æ: `jobs_chat_service_backup.py`

## üåç –ü–Ü–î–¢–†–ò–ú–£–í–ê–ù–Ü –ú–û–í–ò:

–ö–æ–∂–Ω–∞ –º–æ–≤–∞ –º–∞—î:
- ‚úÖ –°—Ç—Ä–æ–≥—ñ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ—Ç–∏ –≤–∏–≥–∞–¥—É–≤–∞–Ω–Ω—è URL
- ‚úÖ –ü–µ—Ä–µ–∫–ª–∞–¥ –≤—Å—ñ—Ö —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π
- ‚úÖ –õ–æ–∫–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏
- ‚úÖ –ê–¥–∞–ø—Ç–æ–≤–∞–Ω—ñ –Ω–∞–∑–≤–∏ –∫—Ä–∞—ó–Ω
