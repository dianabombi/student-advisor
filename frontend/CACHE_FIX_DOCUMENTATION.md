# üîß –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ü—Ä–æ–±–ª–µ–º –∑ –ö–µ—à—É–≤–∞–Ω–Ω—è–º

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–º–∏–ª–∫–∞ `ChunkLoadError: Loading chunk app/layout failed` –≤–∏–Ω–∏–∫–∞—î –∫–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–∞—Ä—ñ JavaScript —Ñ–∞–π–ª–∏ –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É.

## –†—ñ—à–µ–Ω–Ω—è

–í–Ω–µ—Å–µ–Ω–æ –∑–º—ñ–Ω–∏ –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é Next.js –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∫–µ—à—É–≤–∞–Ω–Ω—é —Å—Ç–∞—Ä–∏—Ö —Ñ–∞–π–ª—ñ–≤.

### –ó–º—ñ–Ω–∏ –≤ `frontend/next.config.js`

**1. –î–æ–¥–∞–Ω–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ Cache-Control:**
```javascript
{
    source: '/:path*',
    headers: [
        {
            key: 'Cache-Control',
            value: 'no-cache, no-store, must-revalidate',
        },
    ],
}
```

**2. –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π Build ID:**
```javascript
generateBuildId: async () => {
    return `build-${Date.now()}`;
}
```
–ö–æ–∂–µ–Ω –±—ñ–ª–¥ —Ç–µ–ø–µ—Ä –º–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID –Ω–∞ –æ—Å–Ω–æ–≤—ñ timestamp, —â–æ –∑–∞–ø–æ–±—ñ–≥–∞—î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∞–º –º—ñ–∂ –≤–µ—Ä—Å—ñ—è–º–∏.

**3. –í–∏–º–∫–Ω–µ–Ω–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é CSS:**
```javascript
experimental: {
    optimizeCss: false,
}
```

### –ó–º—ñ–Ω–∏ –≤ `frontend/middleware.ts`

–î–æ–¥–∞–Ω–æ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–æ –≤—Å—ñ—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π:
```typescript
const response = NextResponse.next();
response.headers.set('Cache-Control', 'no-cache, no-store, must-revalidate, max-age=0');
response.headers.set('Pragma', 'no-cache');
response.headers.set('Expires', '0');
```

## –©–æ –¶–µ –û–∑–Ω–∞—á–∞—î?

### Cache-Control Headers

- **`no-cache`** - –±—Ä–∞—É–∑–µ—Ä –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –∫–µ—à—É
- **`no-store`** - –±—Ä–∞—É–∑–µ—Ä –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î —Ñ–∞–π–ª–∏ –≤ –∫–µ—à –≤–∑–∞–≥–∞–ª—ñ
- **`must-revalidate`** - —è–∫—â–æ –∫–µ—à —î, –≤—ñ–Ω –º–∞—î –±—É—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏–π
- **`max-age=0`** - –∫–µ—à –≤–≤–∞–∂–∞—î—Ç—å—Å—è –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–º –æ–¥—Ä–∞–∑—É

### –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π Build ID

–ö–æ–∂–µ–Ω —Ä–∞–∑ –∫–æ–ª–∏ –≤–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –Ω–æ–≤–∏–π Build ID. –¶–µ –æ–∑–Ω–∞—á–∞—î:
- –ë—Ä–∞—É–∑–µ—Ä —Ä–æ–∑—É–º—ñ—î —â–æ —Ü–µ –Ω–æ–≤–∞ –≤–µ—Ä—Å—ñ—è
- –°—Ç–∞—Ä—ñ chunk —Ñ–∞–π–ª–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è
- –ù–µ–º–∞—î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –º—ñ–∂ –≤–µ—Ä—Å—ñ—è–º–∏

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–ë—ñ–ª—å—à–µ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É–¥–µ –ø–æ–º–∏–ª–∫–∏ ChunkLoadError**

–ë—Ä–∞—É–∑–µ—Ä –∑–∞–≤–∂–¥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏–º–µ –Ω–∞–π—Å–≤—ñ–∂—ñ—à—ñ —Ñ–∞–π–ª–∏ –∑ —Å–µ—Ä–≤–µ—Ä–∞.

## –ö–æ–º–ø—Ä–æ–º—ñ—Å–∏

### –ü–µ—Ä–µ–≤–∞–≥–∏:
- ‚úÖ –ù–µ–º–∞—î –ø—Ä–æ–±–ª–µ–º –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º
- ‚úÖ –ó–∞–≤–∂–¥–∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è
- ‚úÖ –ù–µ–º–∞—î –ø–æ—Ç—Ä–µ–±–∏ –æ—á–∏—â–∞—Ç–∏ –∫–µ—à –≤—Ä—É—á–Ω—É

### –ù–µ–¥–æ–ª—ñ–∫–∏:
- ‚ö†Ô∏è –¢—Ä–æ—Ö–∏ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–±—Ä–∞—É–∑–µ—Ä –∑–∞–≤–∂–¥–∏ –∑–∞–ø–∏—Ç—É—î —Å–µ—Ä–≤–µ—Ä)
- ‚ö†Ô∏è –ë—ñ–ª—å—à–µ —Ç—Ä–∞—Ñ—ñ–∫—É

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –î–ª—è production –º–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –±—ñ–ª—å—à –∞–≥—Ä–µ—Å–∏–≤–Ω–µ –∫–µ—à—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ (_next/static), –∞–ª–µ HTML —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑–∞–ª–∏—à–∞—Ç—å—Å—è –±–µ–∑ –∫–µ—à—É.

## –Ø–∫ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥: `docker-compose restart frontend`
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://localhost:3001`
3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ DevTools (F12) ‚Üí Network
4. –û–Ω–æ–≤—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É (Ctrl+F5)
5. –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ - –º–∞—î –±—É—Ç–∏ `Cache-Control: no-cache, no-store, must-revalidate`

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –î–ª—è –†–æ–∑—Ä–æ–±–∫–∏

–ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **Ctrl+F5** (–∂–æ—Ä—Å—Ç–∫–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è) –∑–∞–º—ñ—Å—Ç—å F5.

### –î–ª—è Production

–†–æ–∑–≥–ª—è–Ω—å—Ç–µ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å:
1. **Service Worker** - –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é –∫–µ—à—É–≤–∞–Ω–Ω—è
2. **Versioned URLs** - –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤–µ—Ä—Å—ñ—ó –¥–æ URL —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
3. **CDN** - –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ –Ω–∞ edge —Å–µ—Ä–≤–µ—Ä–∞—Ö

## Troubleshooting

### –Ø–∫—â–æ –≤—Å–µ —â–µ –±–∞—á–∏—Ç–µ –ø–æ–º–∏–ª–∫—É:

1. **–û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é:**
   - Chrome: Ctrl+Shift+Delete ‚Üí –û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à
   - Firefox: Ctrl+Shift+Delete ‚Üí –û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:**
   ```bash
   docker-compose restart frontend
   ```

3. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ —Ä–µ–∂–∏–º—ñ —ñ–Ω–∫–æ–≥–Ω—ñ—Ç–æ:**
   - Ctrl+Shift+N (Chrome)
   - Ctrl+Shift+P (Firefox)

4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –∑–º—ñ–Ω–∏ –∑–∞—Å—Ç–æ—Å—É–≤–∞–ª–∏—Å—è:**
   ```bash
   docker-compose logs frontend --tail 20
   ```

---

**–î–∞—Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** 21.12.2025
**–§–∞–π–ª–∏ –∑–º—ñ–Ω–µ–Ω–æ:**
- `frontend/next.config.js`
- `frontend/middleware.ts`
